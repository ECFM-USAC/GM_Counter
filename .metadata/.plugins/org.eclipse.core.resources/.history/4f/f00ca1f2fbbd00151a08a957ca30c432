#include <msp430.h> 

/*
 * main.c
 */

unsigned int adcVal;

int main(void) {
    WDTCTL = WDTPW | WDTHOLD;	// Stop watchdog timer
	
    P2OUT = 0x00;
    P2DIR = 0xFF;

    P1OUT = 0x00;
    P1DIR = 0x00;

    ADC10CTL0 = 0x80; //Reference buffer enabled only during conversion. ADC OFF
    ADC10CTL1 = 0x7000; //ADC Ch 7 input single-sample mode
    ADC10AE0 =  0x80; //Analog Input Ch 7 multiplexer enabled

    ADC10DTC0 = 0x00;
    ADC10DTC1 = 0x00;


    for(;;){
    	ADC10CTL0 |= 0x13; //ADC Enabled
    	while(ADC10CTL1 & ADC10BUSY){
    		;
    	}
    	adcVal = ADC10MEM;
    }

	return 0;
}
